# Сервис авторизации

###Запуск проекта

Для запуска проекта необходимо:
1) Создать файл `.env` на основе файла `.env.sample` в корневой директории
2) Добавить на хостовой машине в файле `/etc/hosts` домен `auth.cinema.local` для локального IP 127.0.0.1
3) Из корневой директории запустить команду `docker-compose up --build`


###Устройство
Сервис авторизации с системой ролей, написанный на Flask.
В сервисе есть 3 категории ендпоинтов: авторизация, авторизация через соцсети и роли.

Авторизация реализована через JWT-токены.
Блок авторизации включает в себя:

    - регистрацию пользователя
    - вход в аккаунт (получение пары jwt токенов)
    - выход из аккаунта (удаление jwt токенов)
    - обновление токенов
    - получение истории входов
    - изменение логина или пароля

Блок ролей включает в себя

    - создание роли
    - удаление роли
    - изменение роли
    - просмотр всех ролей
    - назначение пользователю роли
    - снятие роли с пользователя
    - проверка всех ролей пользователя

Блок авторизации через соцсети включает в себя:

    - Получение url для регистрации через OAuth
    - Получение url для авторизации через OAuth
    - Коллбек-урл для регистрации через OAuth
    - Коллбек-урл для авторизации через OAuth
    - Получение всех привязанных соцсетей юзера
    - Удаления привязанной соцсети пользователя

Ознакомиться с API подробнее можно будет зайдя на адрес http://auth.cinema.local/apidocs
